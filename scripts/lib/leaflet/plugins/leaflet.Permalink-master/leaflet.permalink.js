L.Permalink={getMapLocation:function(t,e){"use strict";if(t=t||0===t?t:18,e=e||[52.26869,-113.81034],""!==window.location.hash){var n=window.location.hash.replace("#","").split(",");3===n.length&&(e={lat:parseFloat(n[0]),lng:parseFloat(n[1])},t=parseInt(n[2].slice(0,-1),10))}return{zoom:t,center:e}},setup:function(t){"use strict";var e=!0;t.on("moveend",function(){if(e){var n=t.getCenter(),o="#"+Math.round(1e5*n.lat)/1e5+","+Math.round(1e5*n.lng)/1e5+","+t.getZoom()+"z",a={zoom:t.getZoom(),center:n};window.history.pushState(a,"map",o)}else e=!0}),window.addEventListener("popstate",function(n){null!==n.state&&(t.setView(n.state.center,n.state.zoom),e=!1)})}};
